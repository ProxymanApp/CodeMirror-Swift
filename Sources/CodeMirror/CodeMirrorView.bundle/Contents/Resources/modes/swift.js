'use strict';(function(f){"object"==typeof exports&&"object"==typeof module?f(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){function g(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}function l(a,b,c){a.sol()&&(b.indented=a.indentation());if(a.eatSpace())return null;var d=a.peek();if("/"==d){if(a.match("//"))return a.skipToEnd(),"comment";if(a.match("/*"))return b.tokenize.push(h),h(a,b)}if(a.match(m))return"builtin";
if(a.match(n))return"attribute";if(a.match(p)||a.match(q)||a.match(r)||a.match(t))return"number";if(a.match(u))return"property";if(-1<"+-/*%=|&<>~^?!".indexOf(d))return a.next(),"operator";if(-1<":;,.(){}[]".indexOf(d))return a.next(),a.match(".."),"punctuation";if(d=a.match(/("""|"|')/))return c=v.bind(null,d[0]),b.tokenize.push(c),c(a,b);if(a.match(w))return a=a.current(),x.hasOwnProperty(a)?"variable-2":y.hasOwnProperty(a)?"atom":z.hasOwnProperty(a)?(A.hasOwnProperty(a)&&(b.prev="define"),"keyword"):
"define"==c?"def":"variable";a.next();return null}function B(){var a=0;return function(b,c,d){d=l(b,c,d);if("punctuation"==d)if("("==b.current())++a;else if(")"==b.current()){if(0==a)return b.backUp(1),c.tokenize.pop(),c.tokenize[c.tokenize.length-1](b,c);--a}return d}}function v(a,b,c){for(var d=1==a.length,e,k=!1;e=b.peek();)if(k){b.next();if("("==e)return c.tokenize.push(B()),"string";k=!1}else{if(b.match(a))return c.tokenize.pop(),"string";b.next();k="\\"==e}d&&c.tokenize.pop();return"string"}
function h(a,b){for(var c;;){a.match(/^[^/*]+/,!0);c=a.next();if(!c)break;"/"===c&&a.eat("*")?b.tokenize.push(h):"*"===c&&a.eat("/")&&b.tokenize.pop()}return"comment"}function C(a,b,c){this.prev=a;this.align=b;this.indented=c}function D(a,b){b=b.match(/^\s*($|\/[\/\*])/,!1)?null:b.column()+1;a.context=new C(a.context,b,a.indented)}function E(a){a.context&&(a.indented=a.context.indented,a.context=a.context.prev)}var z=g("_ var let class enum extension import protocol struct func typealias associatedtype open public internal fileprivate private deinit init new override self subscript super convenience dynamic final indirect lazy required static unowned unowned(safe) unowned(unsafe) weak as is break case continue default else fallthrough for guard if in repeat switch where while defer return inout mutating nonmutating catch do rethrows throw throws try didSet get set willSet assignment associativity infix left none operator postfix precedence precedencegroup prefix right Any AnyObject Type dynamicType Self Protocol __COLUMN__ __FILE__ __FUNCTION__ __LINE__".split(" ")),
A=g("var let class enum extension import protocol struct func typealias associatedtype for".split(" ")),y=g("true false nil self super _".split(" ")),x=g("Array Bool Character Dictionary Double Float Int Int8 Int16 Int32 Int64 Never Optional Set String UInt8 UInt16 UInt32 UInt64 Void".split(" ")),p=/^\-?0b[01][01_]*/,q=/^\-?0o[0-7][0-7_]*/,r=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/,t=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/,w=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/,
u=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/,m=/^#[A-Za-z]+/,n=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;f.defineMode("swift",function(a){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(b,c){var d=c.prev;c.prev=null;var e=(c.tokenize[c.tokenize.length-1]||l)(b,c,d);e&&"comment"!=e?c.prev||(c.prev=e):c.prev=d;"punctuation"==e&&(d=/[\(\[\{]|([\]\)\}])/.exec(b.current()))&&(d[1]?E:D)(c,b);return e},indent:function(b,c){b=b.context;if(!b)return 0;
c=/^[\]\}\)]/.test(c);return null!=b.align?b.align-(c?1:0):b.indented+(c?0:a.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}});f.defineMIME("text/x-swift","swift")});
